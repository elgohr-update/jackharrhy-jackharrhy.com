function setColor(e,a,r,o){newColor="rgba("+String(Math.ceil(e))+","+String(Math.ceil(a))+","+String(Math.ceil(r))+","+String(o)+")",c.fillStyle=newColor}function makeSquare(e,a,r,o){c.fillRect(2*e,50+Math.cos((frame-e)*a)*Math.sin((frame-e)*r)-Math.sin(frame+e)*o,squareSize,squareSize)}function loop(){frame+=1,canvas.width=window.innerWidth,c.clearRect(0,0,canvas.width,canvas.height);for(var e=0;e<=window.innerWidth/2;e++)if(setColor(100*Math.sin(frame/6+e/2)+155,100*Math.cos(frame/7+e/3)+155,100*Math.sin(frame/8+e/4)+155,1),cursorX>e-50&&e+50>cursorX){var a=-1*(cursorX-e-50);a>50?mod=-1*(a-100):mod=a,makeSquare(e,10,10,mod)}else makeSquare(e,10,10,0);requestAnimationFrame(loop)}var clearColor=document.body.style.backgroundColor,canvas=document.getElementById("canvas"),c=canvas.getContext("2d"),cursorX;document.onmousemove=function(e){cursorX=e.pageX/2},canvas.height=100;var squareSize=3,frame=-1;loop();